{% extends "layout.html" %}

{% block title %}
Class Funds
{% endblock %}
{% block body %}
<div class="container">
    {% for message in get_flashed_messages(e) %}
    <div class="alert alert-danger">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        {{ message }}
    </div>
    {% endfor %}
</div>
<div id="mytable">
    <table id="fixed_header" class="table-striped table table-bordered">

        <thead>
            <tr>
                <th>#</th>
                <th>Name</th>
                <th>Funds</th>
            </tr>
        </thead>
        <tbody>
            {% for fund in funds %}
            <tr>
                <td>{{ fund[0] }}</td>
                <td>{{ fund[1] }}</td>
                <td>{{ "${:.2f}".format(fund[2]/100) }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<div class="submission">
    <span>
        <form action="/funds" method="post" class="form-inline">
            <div class="form-group mb-2">
                <select name="group" id="group" class="custom-select" onchange="getOption()">
                    <option disabled selected value="">Select an option</option>
                    {% for group in groups %}
                        <option value="{{ group }}">{{ group }}</option>
                    {% endfor %}
                    <option value="Individual Add">Individual Add</option>
                </select>
            </div>
            <div class="form-group mb-2" id="indv">
                <select name="indv" class="custom-select">
                    <option disabled selected value="">Select an option</option>
                    <option value="person1">person 1</option>
                    <option value="person2">person 2</option>
                    <option value="person3">person 3</option>
                </select>
            </div>
            <div class="form-group mx-sm-4 mb-2">
                <input type="text" name="amt" placeholder="Amount" class="form-control">
            </div>
            <div class="form-group mb-2">
                <input type="submit" value="Update Funds" class="btn btn-primary">
            </div>
        </form>
    </span>
</div>

<div class="clearfix"></div>


<script type="text/javascript">
    function getOption() {
        selectElement = document.querySelector('#group');
        group = selectElement.value;
        x = document.getElementById("indv");
        if (group === "Individual Add") {
            x.style.display = "inline";
        } else {
            x.style.display = "none";
        }
    }
</script>

{% endblock %}
